From e8778178329efc8e04ea35643259cfc6ec2f9b51 Mon Sep 17 00:00:00 2001
From: Mattias Ellert <mattias.ellert@physics.uu.se>
Date: Tue, 26 Jun 2018 11:11:48 +0200
Subject: [PATCH] Set cache file dir when using CACHEREAD option Remove
 unnecessary CACHEREAD for local file

---
 tmva/tmva/test/DNN/CNN/TestMethodDL.h | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/tmva/tmva/test/DNN/CNN/TestMethodDL.h b/tmva/tmva/test/DNN/CNN/TestMethodDL.h
index 1cac008458e..904fb54cd97 100644
--- a/tmva/tmva/test/DNN/CNN/TestMethodDL.h
+++ b/tmva/tmva/test/DNN/CNN/TestMethodDL.h
@@ -49,14 +49,12 @@ void testMethodDL_CNN(TString architectureStr)
    // Load the input data
 
    TString fname = "imagesData.root";
-   TString fopt = "CACHEREAD";
-   //auto input = TFile::Open(fname,fopt);
 
    // generate the files
    // 1000 for testing 1000 for training
    makeImages(2000);
 
-   auto input = TFile::Open(fname,fopt);
+   auto input = TFile::Open(fname);
 
    R__ASSERT(input);
    
@@ -174,6 +172,7 @@ void testMethodDL_DNN(TString architectureStr)
    // TString fname = "/Users/vladimirilievski/Desktop/Vladimir/GSoC/ROOT-CI/common-version/root/tmva/tmva/test/DNN/CNN/"
    //                 "dataset/tmva_class_example.root";
    TString fname = "http://root.cern.ch/files/tmva_class_example.root";
+   TFile::SetCacheFileDir(".");
    TString fopt = "CACHEREAD";
    input = TFile::Open(fname,fopt);
 
