diff -ur root-5.30.00.orig/configure root-5.30.00/configure
--- root-5.30.00.orig/configure	2011-06-28 11:49:53.000000000 +0200
+++ root-5.30.00/configure	2011-07-24 15:09:47.307270249 +0200
@@ -4364,13 +4364,14 @@
     if test "x$externalxrd" = "xyes"; then
        buildxrd="no"
        # Check if bonjour is available for code potentially using it ...
-       if test "x$enable_bonjour" = "xyes"; then
-          check_symbol XrdOucBonjour "libXrdOuc.a" "$xrdlibdir"
-          if test  $found_symbol -eq 0 ; then
-             bjrcomm="External xrootd has no bonjour support: disabling bonjour in XrdProofd"
-             bonjourcppflags=
-          fi
-       fi
+       ## This test is broken and will always fail.
+       ##if test "x$enable_bonjour" = "xyes"; then
+       ##   check_symbol XrdOucBonjour "libXrdOuc.a" "$xrdlibdir"
+       ##   if test  $found_symbol -eq 0 ; then
+       ##      bjrcomm="External xrootd has no bonjour support: disabling bonjour in XrdProofd"
+       ##      bonjourcppflags=
+       ##   fi
+       ##fi
     fi
 else
     buildxrd="no"
diff -ur root-5.30.00.orig/proof/proofd/Module.mk root-5.30.00/proof/proofd/Module.mk
--- root-5.30.00.orig/proof/proofd/Module.mk	2011-06-28 11:49:12.000000000 +0200
+++ root-5.30.00/proof/proofd/Module.mk	2011-07-24 15:12:09.402270264 +0200
@@ -127,12 +127,10 @@
 ifeq ($(HASXRD),yes)
 XPDINCEXTRA    := $(XROOTDDIRI:%=-I%)
 XPDINCEXTRA    += $(PROOFDDIRI:%=-I%)
-XPDLIBEXTRA    += -L$(XROOTDDIRL) -lXrdOuc -lXrdNet -lXrdSys \
-                  -lXrdClient -lXrdSut $(DNSSDLIB)
-XPROOFDEXELIBS := $(XROOTDDIRL)/libXrd.a $(XROOTDDIRL)/libXrdClient.a \
-                  $(XROOTDDIRL)/libXrdNet.a \
-                  $(XROOTDDIRL)/libXrdOuc.a \
-                  $(XROOTDDIRL)/libXrdSys.a $(XROOTDDIRL)/libXrdSut.a
+XPDLIBEXTRA    += -L$(XROOTDDIRL) -lXrd -lXrdClient -lXrdSut \
+                  -lXrdNet -lXrdOuc -lXrdSys $(DNSSDLIB)
+XPROOFDEXELIBS := -L$(XROOTDDIRL) -lXrd -lXrdClient -lXrdSut \
+                  -lXrdNet -lXrdOuc -lXrdSys
 # Starting from Jul 2010 XrdNet has been split in two libs: XrdNet and XrdNetUtil;
 # both are needed
 XRDNETUTIL     :=
@@ -142,8 +140,8 @@
                           fi)
 endif
 ifeq ($(XRDNETUTIL),yes)
-XPDLIBEXTRA    += -L$(XROOTDDIRL) -lXrdNetUtil
-XPROOFDEXELIBS += $(XROOTDDIRL)/libXrdNetUtil.a
+XPDLIBEXTRA    += -lXrdNetUtil
+XPROOFDEXELIBS += -lXrdNetUtil
 endif
 XPDLIBEXTRA    +=  $(DNSSDLIB)
 
@@ -178,7 +176,7 @@
 		$(LD) $(LDFLAGS) -o $@ $(PROOFDEXEO) $(RPDUTILO) $(GLBPATCHO) \
 		   $(RSAO) $(SNPRINTFO) $(CRYPTLIBS) $(AUTHLIBS) $(STRLCPYO) $(SYSLIBS)
 
-$(XPROOFDEXE):  $(XPDO) $(XPROOFDEXELIBS) $(XRDPROOFXD) $(RPDCONNO)
+$(XPROOFDEXE):  $(XPDO) $(XRDPROOFXD) $(RPDCONNO)
 		$(LD) $(LDFLAGS) -o $@ $(XPDO) $(RPDCONNO) $(XPROOFDEXELIBS) $(SYSLIBS) $(XPROOFDEXESYSLIBS)
 
 $(XPDLIB):      $(XPDO) $(XPDH) $(ORDER_) $(MAINLIBS) $(XRDPROOFXD) $(RPDCONNO)
