From 778e01575f6b75bed9843023baeb50b23aea5355 Mon Sep 17 00:00:00 2001
From: Mattias Ellert <mattias.ellert@physics.uu.se>
Date: Fri, 16 Feb 2018 19:06:14 +0100
Subject: [PATCH 1/2] Don't install intermediate static libs (mathtext and
 minicern)

---
 graf2d/mathtext/CMakeLists.txt | 2 +-
 misc/minicern/CMakeLists.txt   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/graf2d/mathtext/CMakeLists.txt b/graf2d/mathtext/CMakeLists.txt
index 5af6a282a34..e6cba7bcd35 100644
--- a/graf2d/mathtext/CMakeLists.txt
+++ b/graf2d/mathtext/CMakeLists.txt
@@ -1,2 +1,2 @@
-ROOT_LINKER_LIBRARY(mathtext *.cxx TYPE STATIC)
+ROOT_LINKER_LIBRARY(mathtext *.cxx TYPE STATIC NOINSTALL)
 
diff --git a/misc/minicern/CMakeLists.txt b/misc/minicern/CMakeLists.txt
index 2758edb08e1..d98ac3b6331 100644
--- a/misc/minicern/CMakeLists.txt
+++ b/misc/minicern/CMakeLists.txt
@@ -3,7 +3,7 @@
 ############################################################################
 
 set(CMAKE_Fortran_FLAGS "${CMAKE_Fortran_FLAGS} -fPIC")
-ROOT_LINKER_LIBRARY(minicern *.c *.f TYPE STATIC)
+ROOT_LINKER_LIBRARY(minicern *.c *.f TYPE STATIC NOINSTALL)
 target_link_libraries(minicern ${CMAKE_Fortran_IMPLICIT_LINK_LIBRARIES})
 
 # Disable optimization since it some cases was causing crashes.

From 9bd8d4e52fae5467867cbcf1810bc58a63b55a62 Mon Sep 17 00:00:00 2001
From: Mattias Ellert <mattias.ellert@physics.uu.se>
Date: Fri, 16 Feb 2018 19:07:04 +0100
Subject: [PATCH 2/2] Don't add JupyROOT python extension to cmake exports

---
 bindings/pyroot/CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/bindings/pyroot/CMakeLists.txt b/bindings/pyroot/CMakeLists.txt
index 4dab1dfd2ab..5f621af9a2d 100644
--- a/bindings/pyroot/CMakeLists.txt
+++ b/bindings/pyroot/CMakeLists.txt
@@ -18,7 +18,7 @@ ROOT_STANDARD_LIBRARY_PACKAGE(PyROOT
                               DICTIONARY_OPTIONS "-writeEmptyRootPCM"
                               LIBRARIES Core Net Tree MathCore Rint ${PYTHON_LIBRARIES}
                               DEPENDENCIES Core MathCore Net Tree Rint)
-ROOT_LINKER_LIBRARY(JupyROOT ../JupyROOT/src/*.cxx DEPENDENCIES Core)
+ROOT_LINKER_LIBRARY(JupyROOT ../JupyROOT/src/*.cxx DEPENDENCIES Core CMAKENOEXPORT)
 
 if(MSVC)
   add_custom_command(TARGET PyROOT POST_BUILD
